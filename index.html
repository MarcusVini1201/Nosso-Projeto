import React, { useState, useEffect } from 'react';
import { 
  Shield, HeartPulse, Hammer, Linkedin, Play, 
  FileText, Database, Search, Users, Activity, Zap 
} from 'lucide-react';

/**
 * SIGB-C v47.0 - Edição de Recuperação Tática
 * Foco: Estabilidade Visual e Performance
 */

const App = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [activeTab, setActiveTab] = useState('Wiki');
  const [time, setTime] = useState(new Date().toLocaleTimeString());

  useEffect(() => {
    const timer = setInterval(() => setTime(new Date().toLocaleTimeString()), 1000);
    return () => clearInterval(timer);
  }, []);

  const wikiData = [
    { 
      id: 'dea', 
      cat: 'AHA / APH', 
      title: 'D.E.A (Desfibrilador)', 
      manual: 'O aparelho que fala com você. Ligue, cole as pás no peito e afaste-se. Ele decide o choque sozinho.',
      search: 'como usar desfibrilador externo automatico passo a passo'
    },
    { 
      id: 'hooligan', 
      cat: 'Salvamento', 
      title: 'Ferramenta Hooligan', 
      manual: 'A chave-mestra tática. Abre portas corta-fogo e corta metal em segundos. Use como alavanca.',
      search: 'hooligan tool door entry'
    },
    { 
      id: 'ambu', 
      cat: 'APH', 
      title: 'Reanimador AMBU', 
      manual: 'Ajuda a pessoa a respirar quando o pulmão para. Aperte a bolsa ritmado com a máscara vedada no rosto.',
      search: 'tecnica uso ambu reanimador manual'
    },
    { 
      id: 'radio', 
      cat: 'Redes', 
      title: 'Radio Baofeng UV-6', 
      manual: 'Voz da equipe. Mantenha carregado e no canal certo. Fale curto e objetivo.',
      search: 'como usar radio baofeng uv6r'
    },
    { 
      id: 'extintor', 
      cat: 'Prevenção', 
      title: 'Extintor PQS/CO2', 
      manual: 'Puxe o pino, aponte para a base do fogo e aperte. Vermelho combate o perigo.',
      search: 'uso correto extintor de incendio co2 pqs'
    }
  ];

  const filteredWiki = wikiData.filter(item => 
    item.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
    item.cat.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div className="min-h-screen bg-slate-950 text-slate-200 font-sans">
      
      {/* Barra de Status Tático */}
      <div className="bg-slate-900 border-b border-yellow-500/30 px-6 py-2 flex justify-between items-center sticky top-0 z-50 backdrop-blur-sm">
        <div className="flex items-center gap-2">
          <div className="w-2 h-2 rounded-full bg-emerald-500 animate-pulse" />
          <span className="text-[10px] font-bold tracking-widest text-yellow-500 uppercase italic">
            SIGB-C v47.0 // STATUS: OPERACIONAL
          </span>
        </div>
        <div className="text-[10px] font-mono text-slate-500 uppercase font-bold tracking-widest flex gap-4">
           <span className="hidden sm:block">LOCAL: HQ BRASÍLIA</span>
           <span className="text-white">{time}</span>
        </div>
      </div>

      {/* Header Principal */}
      <header className="p-6 max-w-7xl mx-auto">
        <div className="bg-slate-900/60 rounded-3xl p-8 border border-white/5 flex flex-col md:flex-row justify-between items-center gap-6 shadow-2xl">
          <div className="flex items-center gap-5">
            <div className="w-14 h-14 bg-yellow-500 rounded-2xl flex items-center justify-center text-black shadow-lg shadow-yellow-500/20 rotate-3">
              <Database size={28} />
            </div>
            <div>
              <h1 className="text-3xl font-black italic tracking-tighter text-white">WIKI <span className="text-yellow-500">PRIME</span></h1>
              <p className="text-[9px] font-black uppercase tracking-[0.3em] text-slate-500 mt-1 italic flex items-center gap-2">
                <Shield size={10} className="text-yellow-500" /> Comando Marcus & Ralf
              </p>
            </div>
          </div>

          <div className="flex bg-black/40 p-1 rounded-2xl border border-white/5">
            {['Wiki', 'Documentos', 'Comando'].map(tab => (
              <button 
                key={tab} 
                onClick={() => setActiveTab(tab)}
                className={`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === tab ? 'bg-yellow-500 text-black' : 'text-slate-500 hover:text-white'}`}
              >
                {tab}
              </button>
            ))}
          </div>
        </div>
      </header>

      {/* Conteúdo Principal */}
      <main className="max-w-7xl mx-auto px-6 pb-20">
        
        {activeTab === 'Wiki' && (
          <div className="space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500">
            <div className="flex flex-col md:flex-row justify-between items-center gap-4">
              <h2 className="text-2xl font-black italic uppercase text-white tracking-tighter">Manual <span className="text-yellow-500">do Povo</span></h2>
              <div className="relative w-full md:w-80">
                <Search size={16} className="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500" />
                <input 
                  type="text" 
                  placeholder="FILTRAR MANUAL..." 
                  className="w-full bg-slate-900 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-[10px] font-bold uppercase tracking-widest text-white focus:border-yellow-500/50 outline-none"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                />
              </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {filteredWiki.map(item => (
                <div key={item.id} className="bg-slate-900/40 p-6 rounded-3xl border border-white/5 hover:border-yellow-500/20 transition-all flex flex-col group h-full">
                  <div className="flex justify-between mb-4">
                    <div className="p-3 bg-white/5 rounded-xl text-yellow-500 group-hover:bg-yellow-500 group-hover:text-black transition-all">
                      {item.cat.includes('APH') ? <HeartPulse size={20}/> : <Hammer size={20}/>}
                    </div>
                    <span className="text-[8px] font-black text-slate-600 uppercase tracking-widest">{item.cat}</span>
                  </div>
                  <h3 className="text-xl font-black italic text-white uppercase mb-2">{item.title}</h3>
                  <p className="text-xs text-slate-400 font-medium leading-relaxed italic mb-6">"{item.manual}"</p>
                  
                  <div className="mt-auto space-y-4">
                    <div className="bg-black/20 p-3 rounded-xl border border-white/5">
                      <p className="text-[7px] text-slate-500 font-bold uppercase mb-1 tracking-widest">Sugestão de Busca:</p>
                      <p className="text-[9px] text-yellow-500/50 font-mono italic">{item.search}</p>
                    </div>
                    <button className="w-full bg-slate-800 py-4 rounded-xl flex items-center justify-center gap-2 hover:bg-white hover:text-black transition-all font-black text-[9px] uppercase tracking-widest italic border border-white/5">
                      <Play size={14} fill="currentColor" /> Aula Rápida
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'Comando' && (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto py-10">
            {/* Marcus */}
            <div className="bg-slate-900/60 p-10 rounded-[2.5rem] border border-white/5 text-center flex flex-col items-center gap-6 shadow-xl relative overflow-hidden group">
              <div className="absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity"><Zap size={80}/></div>
              <div className="w-24 h-24 rounded-2xl bg-yellow-500 flex items-center justify-center text-black text-3xl font-black shadow-lg rotate-3 group-hover:rotate-0 transition-transform">MV</div>
              <div>
                <h3 className="text-2xl font-black text-white italic tracking-tighter uppercase">Marcus Vinícius</h3>
                <p className="text-[10px] text-yellow-500 font-black uppercase tracking-[0.3em] mt-1 italic">CDO & Brigadeiro de Dados</p>
              </div>
              <a href="https://linkedin.com/in/marcus-vinícius-335552148" target="_blank" className="bg-blue-600 px-8 py-3 rounded-xl text-[10px] font-black uppercase hover:bg-white hover:text-blue-600 transition-all">Linkedin</a>
            </div>

            {/* Ralf */}
            <div className="bg-slate-900/60 p-10 rounded-[2.5rem] border border-white/5 text-center flex flex-col items-center gap-6 shadow-xl relative overflow-hidden group">
              <div className="absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity"><Activity size={80}/></div>
              <div className="w-24 h-24 rounded-2xl bg-blue-600 flex items-center justify-center text-white text-3xl font-black shadow-lg -rotate-3 group-hover:rotate-0 transition-transform">RF</div>
              <div>
                <h3 className="text-2xl font-black text-white italic tracking-tighter uppercase">Rafael (Ralf)</h3>
                <p className="text-[10px] text-blue-400 font-black uppercase tracking-[0.3em] mt-1 italic">Especialista em Redes & Sistemas</p>
              </div>
              <a href="https://linkedin.com/in/rafooc" target="_blank" className="bg-blue-600 px-8 py-3 rounded-xl text-[10px] font-black uppercase hover:bg-white hover:text-blue-600 transition-all">Linkedin</a>
            </div>
          </div>
        )}

        {activeTab === 'Documentos' && (
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4 animate-in fade-in duration-500">
            <FileItem name="AHA 2025" color="text-red-500" />
            <FileItem name="Lei Lucas" color="text-emerald-500" />
            <FileItem name="NT 22" color="text-yellow-500" />
            <FileItem name="NR 26" color="text-orange-500" />
          </div>
        )}

      </main>

      <footer className="py-10 border-t border-white/5 text-center opacity-30">
        <p className="text-[9px] font-black uppercase tracking-[1em] italic">Cyber Unit • SIGB-C • 2026</p>
      </footer>
    </div>
  );
};

const FileItem = ({ name, color }) => (
  <div className="bg-slate-900 border border-white/5 p-6 rounded-2xl flex flex-col items-center gap-3 hover:bg-white/5 transition-all cursor-pointer group">
    <FileText size={24} className={color} />
    <span className="text-[10px] font-black uppercase text-white tracking-tighter">{name}</span>
  </div>
);

export default App;
