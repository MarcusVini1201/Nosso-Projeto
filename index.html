import React, { useState, useEffect } from 'react';
import { 
  Shield, HeartPulse, Hammer, Linkedin, Play, 
  FileText, Database, Search, Users, Activity, Zap, Clock, Camera, CheckCircle2, Award, Handshake, Star
} from 'lucide-react';

/**
 * SIGB-C v53.0 - EDIÇÃO REDE DE COLABORAÇÃO
 * Foco: Inclusão de Colaboradores e Líderes de Plantão
 * Tecnologia: React + Tailwind + Inteligência Operacional
 */

const App = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [activeTab, setActiveTab] = useState('Wiki');
  const [currentTime, setCurrentTime] = useState(new Date().toLocaleTimeString());

  useEffect(() => {
    const timer = setInterval(() => setCurrentTime(new Date().toLocaleTimeString()), 1000);
    return () => clearInterval(timer);
  }, []);

  // Dados da Wiki com status de captura
  const wikiData = [
    { 
      id: 'dea', 
      cat: 'AHA / APH', 
      title: 'D.E.A (Desfibrilador)', 
      manual: 'O aparelho que fala com você. Ligue, cole as pás no peito e afaste-se. Ele decide o choque sozinho.',
      video: 'https://youtu.be/n0yZ-45bqYI',
      icon: <HeartPulse className="text-red-500" />,
      status: 'partnership', // Buscando parceria
      location: 'Unidade Externa / Parceiro'
    },
    { 
      id: 'prancha', 
      cat: 'APH / Resgate', 
      title: 'Prancha Longa Rígida', 
      manual: 'Para carregar quem não pode andar. Mantém a coluna reta e evita danos maiores no transporte.',
      video: 'https://youtu.be/7WDai1Crd90',
      icon: <Activity className="text-orange-500" />,
      status: 'authoral', // Marcus vai tirar
      location: 'Próprio Plantão'
    },
    { 
      id: 'colar', 
      cat: 'APH / Trauma', 
      title: 'Colar Cervical (16 posições)', 
      manual: 'Imobilização da coluna cervical. Essencial em qualquer suspeita de trauma acima das clavículas.',
      video: 'https://youtu.be/dO762Fev8yk',
      icon: <Shield className="text-blue-400" />,
      status: 'authoral',
      location: 'Próprio Plantão'
    },
    { 
      id: 'tala', 
      cat: 'APH / Imobilização', 
      title: 'Tala Moldável', 
      manual: 'Versatilidade total. Molda-se ao membro fraturado para garantir a imobilização temporária.',
      video: 'https://www.youtube.com/shorts/VbHUZPdkZUs',
      icon: <Hammer className="text-emerald-500" />,
      status: 'authoral',
      location: 'Próprio Plantão'
    }
  ];

  // Lista de Colaboradores (Exemplo para você preencher)
  const collaborators = [
    { name: "Capitão Silva", role: "Comandante de Socorro", contribution: "Apoio Logístico e Autorização", unit: "1º GBM" },
    { name: "Tenente Rocha", role: "Instrutor de APH", contribution: "Consultoria Técnica DEA", unit: "GBS" },
    { name: "Sgt. Almeida", role: "Chefe de Viatura", contribution: "Cessão de Equipamentos", unit: "CBMDF" }
  ];

  const filteredWiki = wikiData.filter(item => 
    item.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
    item.cat.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div className="min-h-screen bg-[#05070a] text-slate-100 font-sans antialiased selection:bg-yellow-500/30">
      
      {/* HUD de Navegação */}
      <nav className="border-b border-white/5 bg-slate-900/80 backdrop-blur-md sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-6 h-16 flex justify-between items-center">
          <div className="flex items-center gap-4">
            <div className="w-3 h-3 rounded-full bg-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.5)]" />
            <span className="text-[10px] font-black tracking-[0.3em] text-white uppercase italic">
              SIGB-C <span className="text-yellow-500">v53.0</span> // NETWORK OPS
            </span>
          </div>
          <div className="flex items-center gap-8 text-[11px] font-bold">
            <div className="flex items-center gap-2 text-yellow-500">
              <Clock size={14} />
              <span>{currentTime}</span>
            </div>
            <div className="hidden md:flex items-center gap-2 text-emerald-500 border-l border-white/10 pl-8">
              <Handshake size={14} />
              <span className="uppercase tracking-widest italic">PROJETO COLABORATIVO</span>
            </div>
          </div>
        </div>
      </nav>

      {/* Hero Section */}
      <header className="pt-12 pb-16 px-6 relative overflow-hidden">
        <div className="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-yellow-500/5 via-transparent to-transparent pointer-events-none" />
        
        <div className="max-w-6xl mx-auto flex flex-col items-center text-center gap-8 relative z-10">
            <div className="inline-flex items-center gap-2 bg-blue-500/10 border border-blue-500/20 px-4 py-2 rounded-full mb-4">
              <Star size={14} className="text-blue-500" />
              <span className="text-[9px] font-black uppercase tracking-[0.2em] text-blue-500">Integração com Lideranças de Campo</span>
            </div>
            <h1 className="text-5xl md:text-7xl font-black italic tracking-tighter text-white uppercase">
              Wiki <span className="text-yellow-500">Prime</span> <span className="text-slate-700">Studio</span>
            </h1>
            
            <div className="flex flex-wrap justify-center gap-2 mt-4">
              {['Wiki', 'Arquivos', 'Equipe', 'Colaboradores'].map(tab => (
                <button 
                  key={tab} 
                  onClick={() => setActiveTab(tab)}
                  className={`px-8 py-4 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] transition-all ${activeTab === tab ? 'bg-yellow-500 text-black' : 'text-slate-500 hover:text-white bg-slate-900/50'}`}
                >
                  {tab}
                </button>
              ))}
            </div>
        </div>
      </header>

      <main className="max-w-6xl mx-auto px-6 pb-40">
        
        {activeTab === 'Wiki' && (
          <div className="space-y-12">
            <div className="flex flex-col md:flex-row justify-between items-center gap-6">
               <div className="relative w-full md:max-w-md">
                  <Search size={20} className="absolute left-5 top-1/2 -translate-y-1/2 text-slate-600" />
                  <input 
                    type="text" 
                    placeholder="BUSCAR EQUIPAMENTO..." 
                    className="w-full bg-slate-900/50 border border-white/10 rounded-2xl pl-14 pr-6 py-5 text-[11px] font-bold uppercase tracking-widest text-white focus:border-yellow-500/50 outline-none transition-all"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                  />
               </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {filteredWiki.map(item => (
                <div key={item.id} className="group relative bg-slate-900/40 rounded-[2.5rem] border border-white/5 hover:border-yellow-500/40 transition-all overflow-hidden flex flex-col">
                  
                  {/* Container da Foto Autoral */}
                  <div className="aspect-video bg-black/60 flex flex-col items-center justify-center gap-4 relative">
                    <div className="absolute top-4 left-4 z-10 flex gap-2">
                      <div className="bg-black/80 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10 flex items-center gap-2">
                        <div className={`w-1.5 h-1.5 rounded-full ${item.status === 'partnership' ? 'bg-blue-500' : 'bg-orange-500'} animate-pulse`} />
                        <span className="text-[8px] font-black uppercase tracking-widest text-white">
                          {item.status === 'partnership' ? 'BUSCANDO PARCERIA' : 'CAPTAÇÃO MARCUS'}
                        </span>
                      </div>
                    </div>
                    <Camera size={40} className="text-slate-800 group-hover:text-yellow-500/20 transition-colors duration-500" />
                    <span className="text-[8px] font-black text-slate-600 uppercase tracking-[0.3em] italic">{item.location}</span>
                  </div>

                  <div className="p-8 flex flex-col flex-grow">
                    <div className="flex justify-between items-center mb-6">
                      <div className="w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-slate-400 group-hover:bg-yellow-500 group-hover:text-black transition-all">
                        {item.icon}
                      </div>
                      <span className="text-[9px] font-black text-slate-500 uppercase tracking-widest">{item.cat}</span>
                    </div>
                    
                    <h3 className="text-2xl font-black italic text-white uppercase tracking-tighter mb-4">{item.title}</h3>
                    <p className="text-xs text-slate-400 font-medium leading-relaxed italic mb-8 flex-grow">"{item.manual}"</p>
                    
                    <a 
                      href={item.video} 
                      target="_blank" 
                      className="w-full bg-slate-800 py-5 rounded-2xl flex items-center justify-center gap-3 hover:bg-white hover:text-black transition-all font-black text-[10px] uppercase tracking-widest italic"
                    >
                      <Play size={16} fill="currentColor" /> Aula Técnica (YouTube)
                    </a>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'Colaboradores' && (
          <div className="space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700">
             <div className="text-center mb-12">
                <h2 className="text-3xl font-black italic uppercase text-white tracking-tighter">Quadro de <span className="text-yellow-500">Colaboração</span></h2>
                <p className="text-slate-500 text-xs uppercase font-bold tracking-[0.2em] mt-2">Reconhecimento aos líderes que apoiam a inovação no plantão</p>
             </div>
             
             <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                {collaborators.map((colab, idx) => (
                  <div key={idx} className="bg-slate-900/40 border border-white/5 p-8 rounded-3xl flex items-center gap-6 group hover:bg-yellow-500/5 hover:border-yellow-500/20 transition-all">
                    <div className="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center text-yellow-500 group-hover:bg-yellow-500 group-hover:text-black transition-all">
                      <Award size={24} />
                    </div>
                    <div>
                      <h4 className="text-lg font-black text-white italic uppercase">{colab.name}</h4>
                      <p className="text-[10px] text-yellow-500 font-black uppercase tracking-widest">{colab.role} • {colab.unit}</p>
                      <p className="text-[11px] text-slate-400 italic mt-1">Contribuição: {colab.contribution}</p>
                    </div>
                  </div>
                ))}
             </div>

             <div className="bg-blue-500/5 border border-dashed border-blue-500/30 p-12 rounded-[3rem] text-center mt-12">
                <Handshake size={40} className="mx-auto text-blue-500 mb-4" />
                <h4 className="text-white font-black uppercase italic tracking-widest">Quer contribuir com o SIGB-C?</h4>
                <p className="text-slate-500 text-xs mt-2 max-w-md mx-auto">Fale com o Comandante Marcus no plantão para inclusão de fotos de equipamentos ou validação de procedimentos técnicos.</p>
             </div>
          </div>
        )}

        {/* ... manter outras tabs (Equipe/Arquivos) como na v52 ... */}

      </main>
    </div>
  );
};

export default App;
